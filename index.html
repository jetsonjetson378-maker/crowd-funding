<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Combined Crowdfunding â€¢ Register â€¢ Login</title>
<style>
  /* Reset & root colors */
  *{box-sizing:border-box;margin:0;padding:0;}
  :root{
    --glass-white: rgba(255,255,255,0.35);
    --glass-dark: rgba(0,0,0,0.45);
    --accent-1:#0072ff;
    --accent-2:#00c6ff;
    --danger:#ff4d4d;
    --text-dark:#1a1a1a;
    --text-light:#ffffff;
  }

  body{
    font-family:"Poppins",system-ui,sans-serif;
    min-height:100vh;
    background:url('https://images.unsplash.com/photo-1517816428104-797678c7cf0c') center/cover fixed no-repeat;
    color:var(--text-dark);
    transition: background .35s ease,color .2s ease;
  }

  /* Navigation + Dark Mode toggle */
  .top-nav{position:fixed;left:18px;top:18px;display:flex;gap:10px;z-index:999;}

  /* FIX VISIBILITY IN LIGHT MODE */
  .nav-btn{
    background:rgba(0,0,0,0.25);
    backdrop-filter:blur(8px);
    border:1px solid rgba(255,255,255,0.3);
    color:#fff;padding:10px 14px;border-radius:999px;cursor:pointer;
  }

  .nav-btn.active{box-shadow:0 6px 18px rgba(0,0,0,0.2);transform:translateY(-2px);}

  #themeToggle{
    position:fixed;top:16px;right:16px;z-index:999;
    background:rgba(255,255,255,0.28);backdrop-filter:blur(8px);
    border:1px solid rgba(255,255,255,0.2);color:#fff;padding:10px 14px;border-radius:999px;cursor:pointer;
  }

  /* Pages */
  .page{display:none;padding:100px 20px 40px;}
  .show{display:block;}

  /* Crowdfunding */
  header{max-width:1200px;margin:0 auto 22px;padding:46px 22px;border-radius:16px;background:var(--glass-white);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.45);color:var(--text-dark);}
  .container{max-width:1200px;margin:0 auto;}
  .section{background:var(--glass-white);padding:22px;border-radius:14px;margin-bottom:18px;border:1px solid rgba(255,255,255,0.42);backdrop-filter:blur(12px);}
  .project-title{font-size:28px;font-weight:700;display:flex;align-items:center;gap:10px;}

  .progress-bar{width:100%;background:#e6e6e6;border-radius:999px;height:18px;overflow:hidden;}
  .progress-fill{height:100%;background:linear-gradient(90deg,var(--accent-2),var(--accent-1));width:0;transition:width 1s ease;}

  .flex{display:flex;gap:18px;flex-wrap:wrap;}
  .card{flex:1 1 calc(33% - 18px);min-width:220px;background:rgba(255,255,255,0.30);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.45);backdrop-filter:blur(10px);}
  .card h3{margin:8px 0;}
  .donate-btn{background:var(--danger);color:#fff;border:none;padding:12px 18px;border-radius:10px;cursor:pointer;font-weight:600;}

  footer{max-width:1200px;margin:28px auto 0;text-align:center;padding:18px;border-radius:10px;background:rgba(0,0,0,0.25);color:#fff;}

  /* Auth forms */
  .bg-container{display:flex;align-items:center;justify-content:center;min-height:60vh;}
  .card-form{width:360px;padding:28px;border-radius:16px;background:var(--glass-white);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.45);}

  .card-form h2{margin-bottom:14px;color:var(--text-dark);font-weight:700;}

  .dark-mode .card-form h2 {color: var(--text-light);}
  .dark-mode .card-form input {
      background: rgba(255, 255, 255, 0.15);
      color: var(--text-light);
      border: 1px solid rgba(255,255,255,0.2);
  }

  .dark-mode .card-form input::placeholder {color: rgba(255,255,255,0.6);}
  .dark-mode .card-form button {
      background: rgba(255, 255, 255, 0.15);
      color: var(--text-light);
      border: 1px solid rgba(255,255,255,0.25);
  }
  .dark-mode .card-form button:hover {background: rgba(255, 255, 255, 0.28);}
  .dark-mode .error {color: #ff8080;}

  .card-form input{width:100%;padding:12px;border-radius:12px;border:none;margin-bottom:12px;background:rgba(255,255,255,0.8);}
  .card-form button{width:100%;padding:12px;border-radius:12px;border:none;background:rgba(0,0,0,0.08);cursor:pointer;font-weight:600;}
  .error{color:#900;font-size:0.9rem;margin-bottom:8px;}

  /* Responsive */
  @media (max-width:900px){
    .card{flex-basis:100%;}
    header{padding:34px 18px;}
    .project-title{font-size:22px;}
    .page{padding:80px 14px 30px;}
  }

  /* Dark Mode */
  .dark-mode{
    background:linear-gradient(180deg,#0f1724,#071023) fixed;
    color:white;
  }
  .dark-mode header,.dark-mode .section,.dark-mode .card,.dark-mode .card-form{
    background:var(--glass-dark);
    border:1px solid rgba(255,255,255,0.06);
    color:white;
  }
  .dark-mode .nav-btn{background:rgba(255,255,255,0.06);}
  .dark-mode #themeToggle{background:rgba(255,255,255,0.04);}

  /* SECURE DONATION POPUP */
  #donationModal {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(4px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
  }

  .donation-box {
    width: 340px;
    background: #ffffff;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 0 25px rgba(0,0,0,0.25);
  }

  .dark-mode .donation-box {
    background: #1d1d1d;
    color: white;
  }

  .donation-box input {
    width: 100%;
    padding: 10px;
    margin: 6px 0;
    border-radius: 10px;
    border: 1px solid #ccc;
  }

  .donation-btn {
    width: 100%;
    padding: 12px;
    background: #0072ff;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    margin-top: 10px;
  }

  #closeModal {
    background: #ff4d4d;
  }
</style>
</head>
<body>

<!-- Navigation + Toggle -->
<div class="top-nav" role="navigation" aria-label="Main navigation">
  <button class="nav-btn active" data-target="crowd">Crowdfunding</button>
  <button class="nav-btn" data-target="register">Register</button>
  <button class="nav-btn" data-target="login">Login</button>
</div>
<button id="themeToggle" aria-label="Toggle dark mode">ðŸŒ™</button>

<!-- Crowdfunding Page -->
<main id="crowd" class="page show" aria-live="polite">
  <header>
    <h1 class="project-title">ðŸŒŸ Empower Rural Education</h1>
    <p>Providing rural schools with digital tools, infrastructure & teacher training.</p>
  </header>

  <div class="container">
    <section class="section">
      <h2>Funding Progress</h2>
      <p><strong>Goal:</strong> â‚¹1,00,000 â€¢ <strong>Raised:</strong> <strong id="raisedAmount">â‚¹65,000</strong></p>
      <div class="progress-bar"><div class="progress-fill" style="width:65%"></div></div>
      <button class="donate-btn" style="margin-top:12px;">Donate Now ðŸ’–</button>
    </section>

    <section class="section">
      <h2>Project Highlights</h2>
      <div class="flex">
        <div class="card"><img src="https://cdn-icons-png.flaticon.com/512/2920/2920262.png" width="48"><h3>Digital Tools</h3><p>Providing tablets and e-learning materials.</p></div>
        <div class="card"><img src="https://cdn-icons-png.flaticon.com/512/1046/1046857.png" width="48"><h3>Infrastructure</h3><p>Upgrading classrooms & furniture.</p></div>
        <div class="card"><img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" width="48"><h3>Teacher Training</h3><p>Smart teaching & digital training.</p></div>
      </div>
    </section>

    <section class="section">
      <h2>What Supporters Say ðŸ’¬</h2>
      <div class="flex">
        <div class="card">
          <img src="https://cdn-icons-png.flaticon.com/512/2922/2922510.png" width="48">
          <h3>Ananya R.</h3>
          <p>"This project is life-changing. Rural students finally get access to digital tools. Proud to support!"</p>
        </div>
        <div class="card">
          <img src="https://cdn-icons-png.flaticon.com/512/2922/2922656.png" width="48">
          <h3>Rahul M.</h3>
          <p>"A transparent and impactful initiative. The updates and progress made me trust this platform."</p>
        </div>
        <div class="card">
          <img src="https://cdn-icons-png.flaticon.com/512/2922/2922522.png" width="48">
          <h3>Sophia K.</h3>
          <p>"Glad to see technology reaching rural roots. The teacher training part is the best!"</p>
        </div>
      </div>
    </section>
  </div>

  <footer>Â© 2025 Crowdfunding Project</footer>
</main>

<!-- Register Page -->
<div id="register" class="page">
  <div class="bg-container">
    <form class="card-form" id="registerForm">
      <h2>Register</h2>
      <div class="error" id="regError" style="display:none;"></div>
      <input type="text" id="regUsername" placeholder="Username" required>
      <input type="email" id="regEmail" placeholder="Email" required>
      <input type="password" id="regPassword" placeholder="Password" required>
      <input type="password" id="regConfirm" placeholder="Confirm Password" required>
      <button type="submit">Register</button>
    </form>
  </div>
</div>

<!-- Login Page -->
<div id="login" class="page">
  <div class="bg-container">
    <form class="card-form" id="loginForm">
      <h2>Login</h2>
      <div class="error" id="loginError" style="display:none;"></div>
      <input type="text" id="loginUser" placeholder="Username" required>
      <input type="password" id="loginPass" placeholder="Password" required>
      <button type="submit">Login</button>
    </form>
  </div>
</div>

<!-- SECURE DONATION POPUP -->
<div id="donationModal">
  <div class="donation-box">
    <h3>Secure Donation</h3>
    <input type="text" id="donorName" placeholder="Full Name" required>
    <input type="email" id="donorEmail" placeholder="Email Address" required>
    <input type="text" id="donorPhone" placeholder="Phone Number" required>
    <input type="text" id="donorUPI" placeholder="UPI ID (example@upi)" required>
    <input type="number" id="donorAmount" placeholder="Donation Amount (â‚¹)" required>

    <button class="donation-btn" id="confirmDonation">Confirm Donation</button>
    <button class="donation-btn" id="closeModal">Cancel</button>
  </div>
</div>


<script>
  // Page Switching
  const navButtons=document.querySelectorAll('.nav-btn');
  const pages=document.querySelectorAll('.page');
  navButtons.forEach(btn=>{
    btn.addEventListener('click',()=>{
      navButtons.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const target=btn.dataset.target;
      pages.forEach(p=>p.id===target?p.classList.add('show'):p.classList.remove('show'));
      window.scrollTo({top:0,behavior:'smooth'});
    });
  });

  // Dark Mode Toggle
  const themeToggle=document.getElementById('themeToggle');
  const applyTheme=(dark)=>{
    document.body.classList.toggle('dark-mode',dark);
    themeToggle.textContent=dark?'â˜€ï¸':'ðŸŒ™';
    localStorage.setItem('darkMode',dark?'1':'0');
  };
  themeToggle.addEventListener('click',()=>applyTheme(!document.body.classList.contains('dark-mode')));
  if(localStorage.getItem('darkMode')==='1') applyTheme(true);

  // Register Validation
  const registerForm=document.getElementById('registerForm');
  const regError=document.getElementById('regError');
  registerForm.addEventListener('submit',e=>{
    e.preventDefault();
    regError.style.display='none';
    const u=regUsername.value.trim();
    const em=regEmail.value.trim();
    const p=regPassword.value;
    const c=regConfirm.value;
    if(!u||!em||!p||!c){regError.textContent='Please fill all fields.';regError.style.display='block';return;}
    if(p.length<6){regError.textContent='Password must be at least 6 characters.';regError.style.display='block';return;}
    if(p!==c){regError.textContent='Passwords do not match.';regError.style.display='block';return;}
    alert('Registration successful (demo).'); registerForm.reset();
    navButtons.forEach(b=>b.dataset.target==='login'?b.click():null);
  });

  // Login Validation
  const loginForm=document.getElementById('loginForm');
  const loginError=document.getElementById('loginError');
  loginForm.addEventListener('submit',e=>{
    e.preventDefault();
    loginError.style.display='none';
    const user=loginUser.value.trim();
    const pass=loginPass.value;
    if(!user||!pass){loginError.textContent='Enter username & password.';loginError.style.display='block';return;}
    alert('Login successful (demo).'); loginForm.reset();
    navButtons.forEach(b=>b.dataset.target==='crowd'?b.click():null);
  });

  // ===== SECURE DONATION LOGIC =====
  let goal = 100000;
  let raised = 65000;

  const raisedAmountEl = document.getElementById("raisedAmount");
  const progressFill = document.querySelector(".progress-fill");
  const donateButton = document.querySelector(".donate-btn");

  const donationModal = document.getElementById("donationModal");
  const closeModal = document.getElementById("closeModal");
  const confirmDonation = document.getElementById("confirmDonation");

  function updateFundingUI() {
    raisedAmountEl.textContent = "â‚¹" + raised.toLocaleString();
    let percent = (raised / goal) * 100;
    progressFill.style.width = percent + "%";
  }

  updateFundingUI();

  donateButton.addEventListener("click", () => {
    if (raised >= goal) {
      alert("ðŸŽ‰ Goal already reached! No more donations accepted.");
      return;
    }
    donationModal.style.display = "flex";
  });

  closeModal.addEventListener("click", () => {
    donationModal.style.display = "none";
  });

  confirmDonation.addEventListener("click", () => {
    let name = donorName.value.trim();
    let email = donorEmail.value.trim();
    let phone = donorPhone.value.trim();
    let upi = donorUPI.value.trim();
    let amount = parseInt(donorAmount.value);

    if (!name || !email || !phone || !upi || !amount) {
      alert("Please fill all details securely before donating.");
      return;
    }

    if (amount <= 0) {
      alert("Enter a valid amount.");
      return;
    }

    if (raised + amount > goal) {
      let remaining = goal - raised;
      alert(`You can only donate â‚¹${remaining}. Goal is almost completed.`);
      return;
    }

    raised += amount;
    updateFundingUI();

    donationModal.style.display = "none";

    alert(`Thank you ${name}!  
Your secure donation of â‚¹${amount} was successful.  
Payment processed through UPI: ${upi}`);

    if (raised >= goal) {
      donateButton.disabled = true;
      donateButton.style.opacity = "0.5";
      donateButton.style.cursor = "not-allowed";
      alert("ðŸŽ‰ Congratulations! Funding Goal Fully Achieved!");
    }
  });
</script>

</body>
</html>
